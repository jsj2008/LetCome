//
//  TPMDetailViewController.m
//  TPM
//
//  Created by tongshangren on 16/7/29.
//  Copyright © 2016年 JYZD. All rights reserved.
//

#import "TPMDetailViewController.h"
#import "TPMDetailBll.h"
#import "DistributionViewController.h"

@interface TPMDetailViewController ()
@property(nonatomic,strong)TPMDetailBll *detailBll;
@end

@implementation TPMDetailViewController

- (void)viewDidLoad {
    [super viewDidLoad];
    self.title=@"TM策略要求";
    
    self.detailBll=[TPMDetailBll bllWithController:self tableView:self.tableView];
    
    [self setBtn:self.btnJoin enabled:YES];
    
    [self.btnJoin addTarget:self action:@selector(go2distribution) forControlEvents:UIControlEventTouchUpInside];
    [self.btnJoin.layer setCornerRadius:2.0];
    self.btnJoin.layer.masksToBounds=YES;
}








-(void)go2distribution{
    DistributionViewController *distributionVC=[[DistributionViewController alloc]initWithNibName:@"DistributionViewController" bundle:nil];
    distributionVC.policyEntity=self.policyEntity;
    distributionVC.schemeDetailEntity=self.detailBll.schemeDetailEntity;
    [self.navigationController pushViewController:distributionVC animated:YES];
}


- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
}



-(void)setBtn:(UIButton *)btn enabled:(BOOL)enable{
    if (enable) {
        [btn setEnabled:YES];
        [btn setBackgroundColor:[UIColor colorWithRed:83.0/255.0 green:142.0/255.0 blue:237.0/255.0 alpha:1.0]];
        [btn setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
    }else{
        [btn setEnabled:NO];
        [btn setBackgroundColor:[UIColor colorWithRed:224.0/255.0 green:224.0/255.0 blue:224.0/255.0 alpha:1.0]];
        [btn setTitleColor:[UIColor colorWithRed:190.0/255.0 green:190.0/255.0 blue:190.0/255.0 alpha:1.0] forState:UIControlStateNormal];
    }
}




















@end
