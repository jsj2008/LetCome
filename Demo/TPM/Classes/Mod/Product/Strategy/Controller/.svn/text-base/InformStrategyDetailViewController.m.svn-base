//
//  InformStrategyDetailViewController.m
//  TPM
//
//  Created by admin on 16/8/1.
//  Copyright © 2016年 JYZD. All rights reserved.
//

#import "InformStrategyDetailViewController.h"
#import "InformStrategyDetailBll.h"
#import "UIBarButtonItem+YL.h"
#import "UIImage+ImageEffects.h"


@interface InformStrategyDetailViewController ()

@property (nonatomic, retain) InformStrategyDetailBll *informDetailBll;
@property (weak, nonatomic) IBOutlet QUTableView *informDetailTable;

@end

@implementation InformStrategyDetailViewController

- (void)viewDidLoad {
    [super viewDidLoad];
    // Do any additional setup after loading the view from its nib.
    
    self.title = @"限时通知平仓";
    self.informDetailBll = [InformStrategyDetailBll bllWithController:self tableView:self.informDetailTable];
    self.informDetailBll.todoEntity = self.todoEntity;
    
    self.statusBarStyle = UIStatusBarStyleLightContent;
    UINavigationBar * bar = [UINavigationBar appearance];
    [bar setBackgroundImage:[UIImage imageWithColor:kNavDetailBgColor]
             forBarPosition:UIBarPositionAny
                 barMetrics:UIBarMetricsDefault];
    [bar setShadowImage:[UIImage new]];
    
    [self.confirmBtn addTarget:self.informDetailBll action:@selector(confirmBtnClicked) forControlEvents:UIControlEventTouchUpInside];
}

-(void)doBack:(id)obj{
    self.statusBarStyle = UIStatusBarStyleDefault;
    UINavigationBar * bar = [UINavigationBar appearance];
    [bar setBackgroundImage:nil forBarPosition:UIBarPositionAny barMetrics:UIBarMetricsDefault];
    [bar setShadowImage:nil];
    //NavgationBar字体变白
    [self.navigationController.navigationBar setTitleTextAttributes:[NSDictionary dictionaryWithObjectsAndKeys:kTitleColor,NSForegroundColorAttributeName,[UIFont systemFontOfSize:16.f],NSFontAttributeName,nil]];
    self.navigationItem.leftBarButtonItem = [UIBarButtonItem buttonItemWithIcon:@"back_gray" highlightedIcon:@"back_gray" target:self action:@selector(doBack:)];
    [super doBack:obj];
}

-(void)viewWillAppear:(BOOL)animated{
    [super viewWillAppear:animated];
    
    //NavgationBar字体变白
    [self.navigationController.navigationBar setTitleTextAttributes:[NSDictionary dictionaryWithObjectsAndKeys:[UIColor whiteColor],NSForegroundColorAttributeName,[UIFont systemFontOfSize:16.f],NSFontAttributeName,nil]];
    self.navigationItem.leftBarButtonItem = [UIBarButtonItem buttonItemWithIcon:@"back_white" highlightedIcon:@"back_white" target:self action:@selector(doBack:)];
}



- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

/*
#pragma mark - Navigation

// In a storyboard-based application, you will often want to do a little preparation before navigation
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {
    // Get the new view controller using [segue destinationViewController].
    // Pass the selected object to the new view controller.
}
*/

@end
