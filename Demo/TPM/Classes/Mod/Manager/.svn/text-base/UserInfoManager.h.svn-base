//
//  UserInfoManager.h
//  QianFangGuJie
//
//  Created by chenyi on 15/5/20.
//  Copyright (c) 2015年 JYZD. All rights reserved.
//

#import "BaseManager.h"
//#import "SendUidMobileCodeEntity.h"
#import "checkPicEntity.h"
//#import "loginCheckEntity.h"
#import "LoginEntity.h"
#import "noticeEntity.h"
#import "UserInfoEntity.h"
#import "UidMobileCodeCheckEntity.h"
#import "SetPasswordEntity.h"
#import "SendUidMobileCodeEntity.h"

#import "checkPicMock.h"
#import "LoginMock.h"
#import "UserInfoMock.h"
#import "noticeMock.h"

#import "UidMobileCodeCheckMock.h"
#import "SetPasswordMock.h"
#import "SendUidMobileCodeMock.h"

#import "NickNameEntity.h"
#import "NickNameMock.h"

//#import "ProductListEntity.h"
#import "ProductListMock.h"

#import "CustomerServiceEntity.h"
#import "CustomerServiceMock.h"

#import "CPBAmountMock.h"
#import "QuotaGetMock.h"
#import "QuotaGetEntity.h"
#import "LoginbyssoMock.h"
#import "SendUidMobileCodeMock.h"
#import "UidMobileCodeCheckMock.h"
#import "SendNewMobileCodeMock.h"
#import "SetMoblieAndPasswordMock.h"
#import "SendMobileCodeForauthMock.h"
#import "CheckMobileCodeMock.h"
#import "BindNewMobileMock.h"
#import "SendNewMobileCodeMock.h"
#import "SetNickNameMock.h"
#import "SetNickNameEntity.h"
#define getUserInfoManager  [UserInfoManager shareUserInfoManager]

@interface UserInfoManager : BaseManager{
    
    checkPicEntity* _myCheckPicEntity;    //验证码entity
    LoginEntity* _myLoginEntity;    //登录entity
    noticeEntity* _myNoticeEntity;
    UserInfoEntity* _myUserInfoEntity;
    UidMobileCodeCheckEntity* _myUidMobileCodeCheckEntity;//手机验证码
    SendUidMobileCodeEntity* _myCodeEntity;   //获取手机验证码
    SetPasswordEntity* _myresetPwdEntity;
    
}

@property(strong,nonatomic)CPBAmountEntity* cpbEntity;   //超盘宝entity
@property(strong,nonatomic)QuotaGetEntity* limitEntity;   //超盘宝entity

@property(strong,nonatomic,readonly)checkPicEntity* myCheckPicEntity;    //验证码entity
@property(strong,nonatomic,readonly)LoginEntity* myLoginEntity;    //登录entity
@property(strong,nonatomic,readonly)noticeEntity* myNoticeEntity;
@property(strong,nonatomic,readonly)UidMobileCodeCheckEntity* myUidMobileCodeCheckEntity;//检验手机验证码
@property(strong,nonatomic,readonly)SetPasswordEntity* myresetPwdEntity;
@property(strong,nonatomic,readonly)CustomerServiceEntity* customerServiceEntity;//专属客服

@property(strong,nonatomic)SendUidMobileCodeEntity* myCodeEntity;   //获取手机验证码

@property(strong,nonatomic)checkPicMock* myPicMock;   //验证码获取mock
@property(strong,nonatomic)checkPicParam* myCheckPicParam;

@property(strong,nonatomic)LoginMock* myLoginMock;           //登陆mock
@property(strong,nonatomic)LoginParam* myLoginParam;

@property(strong,nonatomic)LoginbyssoMock* loginbyssoMock;           //登陆mock
@property(strong,nonatomic)LoginbyssoParam* loginbyssoParam;

@property(strong,nonatomic)UserInfoMock* myUserInfoMock; //获取用户信息mock
@property(strong,nonatomic)UserInfoParam* myUserInfoParam;

@property(strong,nonatomic)noticeMock* myNoticeMock;   //站内信预处理mock
@property(strong,nonatomic)noticeParam* myNoticeParam;

@property(strong,nonatomic)UidMobileCodeCheckMock* myUidMobileCodeCheckMock;           //检验手机验证码mock
@property(strong,nonatomic)UidMobileCodeCheckParam* myUidMobileCodeCheckParam;

@property(strong,nonatomic)SetPasswordMock* mySetPasswordMock;           //重设密码mock
@property(strong,nonatomic)SetPasswordParam* mySetPasswordParam;

@property(strong,nonatomic)SendUidMobileCodeMock* myCodeMock;   //获取验证码mock
@property(strong,nonatomic)SendUidMobileCodeParam* myCodeParam;   //获取验证码mock

@property(strong,nonatomic)SendUidMobileCodeMock* sendUidMobileCodeMock;   //获取验证码mock
@property(strong,nonatomic)SendUidMobileCodeParam* sendUidMobileCodeParam;   //获取验证码mock

@property(strong,nonatomic)SendNewMobileCodeParam* sendNewMobileCodeParam;
@property(strong,nonatomic)SendNewMobileCodeMock* sendNewMobileCodeMock;

@property (strong, nonatomic) NickNameParam *nickParam;
@property (strong, nonatomic) NickNameMock *nickMock;


@property (strong, nonatomic) ProductListMock  *productListMock;//获取产品列表（是否可见，是否可买）
@property (strong, nonatomic) ProductListParam *productListParam;

@property (strong, nonatomic) NSMutableDictionary *myQuotaDictionary;


@property (strong,nonatomic)  CPBAmountMock *cpbMock;
@property (strong,nonatomic)  CPBAmountParam *cpbParam;

@property (strong, nonatomic) CustomerServiceMock *customerServiceMock;//专属客服信息
@property (strong, nonatomic) CustomerServiceParam *customerServiceParam;

@property (strong, nonatomic) QuotaGetMock *limitMock;
@property (strong, nonatomic) QuotaGetParam *limitParam;

@property(strong,nonatomic)UserInfoEntity* myEntity;


@property (strong, nonatomic) UidMobileCodeCheckMock *uidMobileCodeCheckMock; //检验手机验证码
@property (strong, nonatomic) UidMobileCodeCheckParam *uidMobileCodeCheckParam;

@property (strong, nonatomic) SetMoblieAndPasswordMock *setMoblieAndPasswordMock;
@property (strong, nonatomic) SetMoblieAndPasswordParam *setMoblieAndPasswordParam;

@property (strong, nonatomic) SendMobileCodeForauthMock *sendMobileCodeForauthMock;/*向原手机发送验证码（重绑手机号）*/
@property (strong, nonatomic) SendMobileCodeForauthParam *sendMobileCodeForauthParam;

@property (strong, nonatomic) CheckMobileCodeMock *checkMobileCodeMock;/*原手机验证码校验（重绑手机号）*/
@property (strong, nonatomic) CheckMobileCodeParam *checkMobileCodeParam;

//@property (strong, nonatomic) SendNewMobileCodeMock *sendNewMobileCodeMock;/*验证验证码绑定新手机*/
//@property (strong, nonatomic) SendNewMobileCodeParam *sendNewMobileCodeParam;

@property (strong, nonatomic) BindNewMobileMock *bindNewMobileMock;/*验证验证码绑定新手机*/
@property (strong, nonatomic) BindNewMobileParam *bindNewMobileParam;

@property (strong, nonatomic) SetNickNameMock *nickNameMock;/*绑定昵称*/
@property (strong, nonatomic) SetNickNameParam *nickNameParam;

+ (UserInfoManager *)shareUserInfoManager;
+(BOOL)hasLogin;
+(BOOL)hasLogined;

/** 初始化mock 在对象创建时被调用，子类重载 **/
-(void)initMock;

/** 获取验证码 **/
-(void)getCheckPicWithUUID:(NSString*)uid IdentifyCode:(NSString*)code ReturnBlock:(ManagerReturnBlock) returnBlock;

/** 登陆 **/
-(void)loginWithLoginID:(NSString*)loginID Password:(NSString*)password LogInType:(NSString*)logInType ReturnBlock:(ManagerReturnBlock) returnBlock;

/** 登陆 **/
-(void)loginWithToken:(NSString*)token ReturnBlock:(ManagerReturnBlock) returnBlock;

/** 获取用户信息 **/
-(void)getUserInfoWithUid:(NSString*)uid returnBlock:(ManagerReturnBlock) returnBlock;

/** 获取站内信预处理 **/
-(void)getNoticeWithSendMethod:(NSString*)sendMethod UserType:(NSString*)userType returnBlock:(ManagerReturnBlock) returnBlock;


/** 站内信预处理及获取用户信息 **/
-(void)LoginSuccessShowWithReturnBlock:(ManagerReturnBlock) returnBlock;

-(void)getUserInfoWithReturnBlock:(ManagerReturnBlock) returnBlock;
/** 专属客服信息信息 **/
-(void)getCustomerServiceInfoWithReturnBlock:(ManagerReturnBlock) returnBlock;


/** 获取手机验证码 **/
-(void)getMobileCodeWithMobile:(NSString*)mobile Code:(NSString*)code UUID:(NSString*)uuid returnBlock:(ManagerReturnBlock) returnBlock;

/** 获取手机验证码 **/
-(void)getMobileCodeWithMobile:(NSString*)mobile UUID:(NSString*)uuid returnBlock:(ManagerReturnBlock) returnBlock;

/** 重置获取手机验证码 **/
-(void)getMobileCodeWithMobile:(NSString*)mobile returnBlock:(ManagerReturnBlock) returnBlock;
/** 检验手机验证码 **/
-(void)checkMobileCodeWithMobile:(NSString*)mobile Code:(NSString*)code returnBlock:(ManagerReturnBlock) returnBlock;

/** 检验手机验证码 **/
-(void)checkUidMobileCodeWithMobile:(NSString*)mobile Code:(NSString*)code returnBlock:(ManagerReturnBlock) returnBlock;

/** 保存昵称 **/
-(void)saveNickName:(NSString*)nickname returnBlock:(ManagerReturnBlock) returnBlock;

/** 保存用户信息到本地 **/
-(void)saveUserInfo: (UserInfoEntity*)entity;


/** 获取用户信息 **/
-(NSString*)getEncryptedKey;
-(NSString*)getUserPhonenumber;
-(NSString*)getUserNickName;
-(NSString*)getUserNickNameStatus;
-(NSString*)getUserLogo;
-(NSString*)getUserID;
-(NSString*)getSessionID;
-(void)getHeadImg:(UIImageView*)UIImageView;
-(void)getHeadImgForBtn:(UIButton*)btn;

/** 设置用户信息 **/
-(void)setUserPhonenumber:(NSString*)phonenumber;
-(void)setHeadImg:(UIImage*)img;

/** 注销用户 **/
-(void)removeUser;

/** 移除sessionid **/
-(void)removeSessionid;


/** 获取产品列表 **/
-(void)getProductListWithBlock:(ManagerReturnBlock) returnBlock;

/** 获取拉钩宝数据 **/
-(void)refreshCpb:(ManagerReturnBlock) returnBlock;

/** 获取风险等级 **/
-(void)refreshLimitWithType:(NSString*)ptype andBlock:(ManagerReturnBlock) returnBlock;

/** 获取绑定手机及密码的短息验证码 **/
-(void)getVerifyCode4BindWithPhonenum:(NSString*)phoneNum andBlock:(ManagerReturnBlock) returnBlock;

/** 绑定手机和昵称 **/
-(void)bindUserWithPhonenum:(NSString*)phoneNum pwd:(NSString*)pwd nickName:(NSString*)nickName withVerifyCode:(NSString*)verifyCode andBlock:(ManagerReturnBlock) returnBlock;

/*向原手机发送验证码（重绑手机号）*/
-(void)getOldMobileCodeReturnBlock:(ManagerReturnBlock) returnBlock;

/*原手机验证码校验（重绑手机号）*/
-(void)checkOldMobileCodeWithMobile_Code:(NSString *)mobile_code returnBlock:(ManagerReturnBlock) returnBlock;

/*验证验证码绑定新手机*/
-(void)checkNewMobileCodeWithMobile:(NSString *)mobile mobile_Code:(NSString *)mobile_code returnBlock:(ManagerReturnBlock) returnBlock;
/**
 *  绑定手机号，密码，验证码(2016.5.10Tpz新版)
 *
 *  @param phoneNum    手机号
 *  @param pwd         密码
 *  @param verifyCode  验证码
 *  @param returnBlock 回调block
 */
- (void)bindUserWithPhonenum:(NSString *)phoneNum pwd:(NSString *)pwd WithVerifyCode:(NSString *)verifyCode andBlock:(ManagerReturnBlock)returnBlock;

/**
 *  绑定昵称
 *
 *  @param nickName    昵称
 *  @param returnBlock 回调
 */
- (void)bindUserWithNickName:(NSString *)nickName Block:(ManagerReturnBlock)returnBlock;

@end


